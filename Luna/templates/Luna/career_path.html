{% extends 'Luna/base.html' %}
{% block content %}
    <script>
        function toggle(num) {
            var click = document.getElementsByClassName("click");
            var show = document.getElementsByClassName("show");
            var i;
            for (i = 0; i < click.length; i++) {
                if (click[i].id == num) {
                    click[i].className = "show";
                }
            }
            var j;
            for (j = 0; j < show.length; j++) {
                if (show[j].id != num) {
                    show[j].className = "click";
                }
            }
        }
    </script>
    <div class="main">
        <h2>PIO Career Path</h2>
        <div class="container">
            <div class="left-half">
                <article>
                    <h4 class="sticky">
                        <div class="far-left">
                        </div>
                        <div class="center-left">
                            <p>Tier 1</p>
                        </div>
                        <div class="center-right">
                            <p>Tier 2</p>
                        </div>
                        <div class="far-right">
                            <p>Tier 3</p>
                        </div>
                    </h4>
                    <p></p>
                    {% for key1, value1 in career_path_data.items %}
                        {# key1 is department level #}
                        <section>
                            <h4 class="sticky">{{ key1 }}</h4>
                            {% for key2, value2 in value1.items %}
                                {% for key3, value3 in value2.items %}
                                    {% if value3.0.position != '' or value3.1.position != '' or value3.2.position != '' or value3.3.position != '' %}
                                        <hr>
                                        <div class="inner-container">
                                            {% if value3.0 != '' %}
                                                <div class="far-left">
                                                    <p>{{ value3.0.position }}</p>
                                                </div>
                                            {% else %}
                                                <div class="far-left">
                                                    <p></p>
                                                </div>
                                            {% endif %}
                                            <div class="center-left">
                                                {% if value3.1.position != '' %}
                                                    <button class="button button1" onclick="toggle({{ value3.1.id }})">
                                                        {{ value3.1.position }}
                                                    </button>
                                                {% endif %}
                                            </div>
                                            <div class="center-right">
                                                {% if value3.2.position != '' %}
                                                    <button class="button button2" onclick="toggle({{ value3.2.id }})">
                                                        {{ value3.2.position }}
                                                    </button>
                                                {% endif %}
                                            </div>
                                            <div class="far-right">
                                                {% if value3.3.position != '' %}
                                                    <button class="button button3" onclick="toggle({{ value3.3.id }})">
                                                        {{ value3.3.position }}
                                                    </button>
                                                {% endif %}
                                            </div>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                            {% endfor %}
                        </section>
                        <p></p>
                    {% endfor %}
                    <p></p>
                </article>
            </div>
            <div class="right-half">
                <article>
                    <h2>Job Requirements</h2>
                    {% for item in job_description %}
                        <div class="click" id="{{ item.id }}">
                            Department: {{ item.department_display }}
                            <br>
                            Function: {{ item.function_display }}
                            <br>
                            Position: {{ item.position_display }}
                            <br>
                            Tier: {{ item.tier_level }}
                            <br>
                            Pay: {{ item.pay_rate_display }}
                            <br>
                            Job Description:
                            <br>
                            {{ item.job_description|linebreaksbr }}
                        </div>
                    {% endfor %}
                </article>
            </div>
        </div>
    </div>
{% endblock %}


